# üéâ –ü–û–õ–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê

## üéØ **–í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ù–ê–ô–î–ï–ù–´ –ò –ò–°–ü–†–ê–í–õ–ï–ù–´!**

---

## üõ†Ô∏è **–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:**

### ‚úÖ **1. –ü–†–û–ë–õ–ï–ú–ê –°–û–ó–î–ê–ù–ò–Ø –ü–†–û–§–ò–õ–Ø**
- **‚ùå –ë—ã–ª–æ:** `create_profile` –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ `is_bot = 0`
- **‚úÖ –°—Ç–∞–ª–æ:** –î–æ–±–∞–≤–ª–µ–Ω–æ `is_bot = 0` –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—Ñ–∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚úÖ **2. –ü–†–û–ë–õ–ï–ú–ê –ü–û–†–Ø–î–ö–ê –ü–ê–†–ê–ú–ï–¢–†–û–í**
- **‚ùå –ë—ã–ª–æ:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ `create_profile` –≤—ã–∑–æ–≤–∞—Ö
- **‚úÖ –°—Ç–∞–ª–æ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –≤ 3 –º–µ—Å—Ç–∞—Ö
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—Ñ–∏–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### ‚úÖ **3. –ü–†–û–ë–õ–ï–ú–ê –Ø–ó–´–ö–ê –ù–û–í–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô**
- **‚ùå –ë—ã–ª–æ:** `get_user_language` –∏—Å–∫–∞–ª —Ç–æ–ª—å–∫–æ –≤ `profiles` (—É –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è)
- **‚úÖ –°—Ç–∞–ª–æ:** –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `user_settings` –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –Ø–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è

### ‚úÖ **4. –ü–†–û–ë–õ–ï–ú–ê –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–• –ü–û–õ–ï–ô**
- **‚ùå –ë—ã–ª–æ:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ `photo_id`, `gender` –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ—Ç–æ–≤
- **‚úÖ –°—Ç–∞–ª–æ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üéØ **–ü–û–õ–ù–´–ô –ü–£–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:**

### ‚úÖ **–®–∞–≥ 1: /start**
- –í—ã–±–æ—Ä —è–∑—ã–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `user_settings`
- –Ø–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ state
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ **–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã**
- –í—Å–µ —à–∞–≥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `get_lang(user_id, state)`
- –Ø–∑—ã–∫ –±–µ—Ä–µ—Ç—Å—è –∏–∑ state ‚Üí user_settings ‚Üí profile ‚Üí fallback
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ **–®–∞–≥ 3: –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `get_lang(user_id, state)`
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ **–®–∞–≥ 4: –ü–æ–∏—Å–∫ –∞–Ω–∫–µ—Ç**
- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ **–®–∞–≥ 5: –ü—Ä–µ–º–∏—É–º**
- –¶–µ–Ω–∞ 150 Telegram Stars
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ **–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –§–ê–ô–õ–´:**

### üìÑ **database/models.py:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ `is_bot = 0` –≤ `create_profile`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `get_user_language` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `user_settings`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `update_user_language` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `user_settings`

### üìÑ **handlers/start.py:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ `create_profile` (3 –º–µ—Å—Ç–∞)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ `get_lang` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `fill_profile_start` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è state
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `handle_main_menu` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è state

### üìÑ **scripts/bot_factory.py:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `photo_id` –≤ —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–æ–≤

### üìÑ **create_test_bot.py:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `gender` –≤ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞

---

## üéØ **–°–û–ó–î–ê–ù–ù–´–ï –¢–ê–ë–õ–ò–¶–´:**

### ‚úÖ **user_settings:**
```sql
CREATE TABLE user_settings (
    user_id INTEGER PRIMARY KEY,
    language TEXT DEFAULT 'ru',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
```

---

## üéØ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:**

### ‚úÖ **–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
1. `/start` ‚Üí –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)
2. –Ø–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `user_settings` –∏ state
3. –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã ‚Üí –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–æ–º
4. –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≤—Å–µ –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–æ–º
5. ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢

### ‚úÖ **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
1. –Ø–∑—ã–∫ –±–µ—Ä–µ—Ç—Å—è –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
2. –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —è–∑—ã–∫–µ
3. ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

---

## üéØ **–õ–û–ì–ò–†–û–í–ê–ù–ò–ï:**

### ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- `get_lang` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç —è–∑—ã–∫
- `create_profile` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –í—Å–µ —à–∞–≥–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**

### ‚úÖ **–í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–û:**
- **‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- **‚úÖ –Ø–∑—ã–∫** - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **‚úÖ –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- **‚úÖ –¶–µ–Ω–∞** - 150 stars
- **‚úÖ –õ–∏–º–∏—Ç—ã** - —Ä–∞–±–æ—Ç–∞—é—Ç
- **‚úÖ –ë–æ—Ç—ã** - —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚úÖ **–ì–û–¢–û–í –ö –î–ï–ü–õ–û–Æ:**
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è
- –Ø–∑—ã–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ—Ñ–∏–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

---

## üéâ **–ò–¢–û–ì:**

**‚úÖ –ü–û–õ–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê**
**‚úÖ –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´**
**‚úÖ –ë–û–¢ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–ß–ò–ô**
**‚úÖ –ì–û–¢–û–í –ö –î–ï–ü–õ–û–Æ**

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π —è–∑—ã–∫ –∏ –≤—Å–µ –±—É–¥–µ—Ç –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–æ–º!** üöÄ
